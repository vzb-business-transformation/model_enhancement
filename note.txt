(streamlit) SRIWOPE@XHK9JJM27Y model_enhancement % python -m enhance_predict_sequence
run_sql took 51.10 seconds to run.

=== Starting Circuit Prediction Enhancement Pipeline ===


=== STEP 1: Loading existing base model ===

Data processor loaded from results/models/data_processor.joblib

Loading saved models...
Loaded model 'voting_ensemble' from results/models/voting_ensemble_model.joblib
Loaded model 'stacked_ensemble' from results/models/stacked_ensemble_model.joblib
Loaded model 'xgb' from results/models/xgb_model.joblib
Loaded model 'rf' from results/models/rf_model.joblib
Loaded model 'lgb' from results/models/lgb_model.joblib
Loaded model 'gb' from results/models/gb_model.joblib
Loaded model 'cat' from results/models/cat_model.joblib
Loaded feature importances from results/models/feature_importances.joblib
Loaded model parameters from results/models/model_params.joblib
Base models loaded successfully

=== STEP 2: Predicting January disconnect durations ===

Loading January data...
run_sql took 9.95 seconds to run.
January active circuits: 1 records
Traceback (most recent call last):
  File "/Users/SRIWOPE/miniforge3/envs/streamlit/lib/python3.9/runpy.py", line 197, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/Users/SRIWOPE/miniforge3/envs/streamlit/lib/python3.9/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/Users/SRIWOPE/PycharmProjects/model_enhancement/enhance_predict_sequence.py", line 368, in <module>
    main()
  File "/Users/SRIWOPE/PycharmProjects/model_enhancement/enhance_predict_sequence.py", line 167, in main
    numeric_cols = [col for col in expected_features if col in jan_processed.columns]
  File "/Users/SRIWOPE/PycharmProjects/model_enhancement/enhance_predict_sequence.py", line 167, in <listcomp>
    numeric_cols = [col for col in expected_features if col in jan_processed.columns]
NameError: free variable 'jan_processed' referenced before assignment in enclosing scope
(streamlit) SRIWOPE@XHK9JJM27Y model_enhancement %
